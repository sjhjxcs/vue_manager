{"remainingRequest":"/Users/sunchanglan/vue-manger/test_manger/node_modules/babel-loader/lib/index.js!/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sunchanglan/vue-manger/test_manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunchanglan/vue-manger/test_manger/src/views/Login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunchanglan/vue-manger/test_manger/src/views/Login/Login.vue","mtime":1647766274121},{"path":"/Users/sunchanglan/vue-manger/test_manger/babel.config.js","mtime":1647507147033},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js","mtime":1647483605847},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/babel-loader/lib/index.js","mtime":1647483606458},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js","mtime":1647483605847},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/vue-loader/lib/index.js","mtime":1647483606688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1vY2sgZnJvbSAibW9ja2pzIjsKaW1wb3J0IHsgZ2V0TWVudSB9IGZyb20gIi4uLy4uL2FwaS9kYXRhIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8vIHZhciB2YWxpZGF0ZVBhc3MgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAvLyAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgIC8vICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeWvhueggSIpKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICBpZiAodGhpcy5ydWxlRm9ybS5jaGVja1Bhc3MgIT09ICIiKSB7CiAgICAvLyAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlRmllbGQoImNoZWNrUGFzcyIpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBjYWxsYmFjaygpOwogICAgLy8gICB9CiAgICAvLyB9OwogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBsb2dpbjogIiIsCiAgICAgICAgcGFzczogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBsb2dpbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN6ZW/5bqm5LiN6IO95bCP5LqOM+S9jSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYXNzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAvLyAgICAgaWYgKHZhbGlkKSB7CiAgICAgIC8vICAgICAgIGFsZXJ0KCJzdWJtaXQhIik7CiAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAvLyAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgLy8gICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pOwogICAgICBnZXRNZW51KHRoaXMucnVsZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUocmVzLCAncmVzJyk7CgogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwMDApIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyTWVudScpOwoKICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldE1lbnUnLCByZXMuZGF0YS5tZW51KTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRUb2tlbicsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRNZW51JywgX3RoaXMuJHJvdXRlcik7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uud2FybmluZyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBjb25zdCB0b2tlbiA9IE1vY2sucmFuZG9tLmd1aWQoKTsKICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCJnZXRUb2tlbiIsIHRva2VuKTsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J2hvbWUnfSkKICAgIH0gLy8gICAgIC8vIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgLy8gICAgIC8vICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIC8vICAgICAvLyB9LAogICAgLy8gICB9LAoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC;AACAC,iBADA;AAEAC;AAFA,OADA;AAKAC;AACAF,gBACA;AAAAG;AAAAC;AAAAC;AAAA,SADA,EAEA;AACAC,gBADA;AAEAF,gCAFA;AAGAC;AAHA,SAFA,CADA;AASAJ,eACA;AACAE,wBADA;AAEAC,0BAFA;AAGAC;AAHA,SADA;AATA;AALA;AAuBA,GApCA;AAqCAE;AACAC,cADA,sBACAC,QADA,EACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC;AACAC;;AACA;AACA;;AACA;;AACA;;AACA;;AACA;AAAAd;AAAA;AAEA,SAPA,MAOA;AACA;AACA;AACA,OAZA,EATA,CAsBA;AACA;AACA;AACA,KA1BA,CA2BA;AACA;AACA;AACA;;AA9BA;AArCA","names":["name","data","ruleForm","login","pass","rules","required","message","trigger","min","methods","submitForm","formName","getMenu","console"],"sourceRoot":"src/views/Login","sources":["Login.vue"],"sourcesContent":["<template>\n  <el-form\n    :model=\"ruleForm\"\n    status-icon\n    :rules=\"rules\"\n    ref=\"ruleForm\"\n    label-width=\"100px\"\n    class=\"demo-ruleForm\"\n  >\n    <h3 class=\"login_title\">系统登录</h3>\n    <el-form-item label=\"用户名\" prop=\"login\" label-width=\"80px\" class=\"login\">\n      <el-input\n        v-model=\"ruleForm.login\"\n        type=\"input\"\n        auto-complete=\"off\"\n        placeholder=\"请输入用户名\"\n      >\n      </el-input>\n    </el-form-item>\n    <el-form-item label=\"密码\" prop=\"pass\" label-width=\"80px\" class=\"pass\">\n      <el-input\n        type=\"password\"\n        v-model=\"ruleForm.pass\"\n        autocomplete=\"off\"\n        placeholder=\"请输入密码\"\n      ></el-input>\n    </el-form-item>\n\n    <el-form-item class=\"login_submit\">\n      <el-button\n        type=\"primary\"\n        @click=\"loginForm('ruleForm')\"\n        class=\"login_submit\"\n        >登录</el-button\n      >\n    </el-form-item>\n  </el-form>\n</template>\n\n<script>\nimport Mock from \"mockjs\";\nimport{getMenu} from \"../../api/data\"\nexport default {\n  name: \"Login\",\n  data() {\n    // var validatePass = (rule, value, callback) => {\n    //   if (value === \"\") {\n    //     callback(new Error(\"请输入密码\"));\n    //   } else {\n    //     if (this.ruleForm.checkPass !== \"\") {\n    //       this.$refs.ruleForm.validateField(\"checkPass\");\n    //     }\n    //     callback();\n    //   }\n    // };\n    return {\n      ruleForm: {\n        login: \"\",\n        pass: \"\",\n      },\n      rules: {\n        login: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          {\n            min: 3,\n            message: \"用户名长度不能小于3位\",\n            trigger: \"blur\",\n          },\n        ],\n        pass: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      //   this.$refs[formName].validate((valid) => {\n      //     if (valid) {\n      //       alert(\"submit!\");\n      //     } else {\n      //       console.log(\"error submit!!\");\n      //       return false;\n      //     }\n      //   });\n        getMenu(this.ruleForm).then(res=>{\n            console(res,'res')\n            if(res.code===20000){\n                this.$store.commit('clearMenu')\n                this.$store.commit('setMenu',res.data.menu)\n                this.$store.commit('setToken',res.data.token)\n                this.$store.commit('addMenu',this.$router)\n                this.$router.push({name:'home'})\n\n            }else{\n                this.$message.warning(res.data.message)\n            }\n        })\n        // const token = Mock.random.guid();\n        // this.$store.commit(\"getToken\", token);\n        // this.$router.push({name:'home'})\n    },\n    //     // resetForm(formName) {\n    //     //   this.$refs[formName].resetFields();\n    //     // },\n    //   },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.demo-ruleForm {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 100px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background-color: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n}\n.login_title {\n  margin: 0px auto 40px auto;\n  text-align: center;\n  color: #505458;\n}\n.login_submit {\n  margin: 10px auto 0 auto;\n}\n</style>"]}]}