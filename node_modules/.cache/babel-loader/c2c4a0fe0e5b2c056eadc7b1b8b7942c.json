{"remainingRequest":"/Users/sunchanglan/vue-manger/test_manger/node_modules/babel-loader/lib/index.js!/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/sunchanglan/vue-manger/test_manger/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunchanglan/vue-manger/test_manger/src/views/user/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunchanglan/vue-manger/test_manger/src/views/user/Index.vue","mtime":1647748660790},{"path":"/Users/sunchanglan/vue-manger/test_manger/babel.config.js","mtime":1647507147033},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js","mtime":1647483605847},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/babel-loader/lib/index.js","mtime":1647483606458},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/cache-loader/dist/cjs.js","mtime":1647483605847},{"path":"/Users/sunchanglan/vue-manger/test_manger/node_modules/vue-loader/lib/index.js","mtime":1647483606688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N1bmNoYW5nbGFuL3Z1ZS1tYW5nZXIvdGVzdF9tYW5nZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ29tbW9uRm9ybSBmcm9tICIuLi8uLi9jb21wb25lbnRzL0NvbW1vbkZvcm0udnVlIjsKaW1wb3J0IENvbW1vblRhYmxlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvQ29tbW9uVGFibGUudnVlIjsKaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gIi4uLy4uL2FwaS9kYXRhIjsKaW1wb3J0IHsgdGltZSB9IGZyb20gImVjaGFydHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVzZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVyYXRlVHlwZTogImFkZCIsCiAgICAgIGlzU2hvdzogZmFsc2UsCiAgICAgIG9wZXJhdGVGb3JtTGFiZWw6IFt7CiAgICAgICAgbW9kZWw6ICJuYW1lIiwKICAgICAgICBsYWJlbDogIuWnk+WQjSIsCiAgICAgICAgdHlwZTogImlucHV0IgogICAgICB9LCB7CiAgICAgICAgbW9kZWw6ICJhZ2UiLAogICAgICAgIGxhYmVsOiAi5bm06b6EIiwKICAgICAgICB0eXBlOiAiaW5wdXQiCiAgICAgIH0sIHsKICAgICAgICBtb2RlbDogInNleCIsCiAgICAgICAgbGFiZWw6ICLmgKfliKsiLAogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIG9wdHM6IFt7CiAgICAgICAgICBsYWJlbDogIueUtyIsCiAgICAgICAgICB2YWx1ZTogMQogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAi5aWzIiwKICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIG1vZGVsOiAiYmlydGgiLAogICAgICAgIGxhYmVsOiAi5Ye655Sf5pel5pyfIiwKICAgICAgICB0eXBlOiAiZGF0ZSIKICAgICAgfSwgewogICAgICAgIG1vZGVsOiAiYWRkciIsCiAgICAgICAgbGFiZWw6ICLlnLDlnYAiLAogICAgICAgIHR5cGU6ICJpbnB1dCIKICAgICAgfV0sCiAgICAgIG9wZXJhdGVGb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYWRkcjogIiIsCiAgICAgICAgYWdlOiAiIiwKICAgICAgICBzZXg6ICIiLAogICAgICAgIGJpcnRoOiAiIgogICAgICB9LAogICAgICBmb3JtTGFiZWw6IFt7CiAgICAgICAgbW9kZWw6ICJrZXl3b3JkIiwKICAgICAgICBsYWJlbDogIiIsCiAgICAgICAgdHlwZTogImlucHV0IgogICAgICB9XSwKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIGtleXdvcmRzOiAiIgogICAgICB9LAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvLyBzZXhMYWJlbDonJywKICAgICAgdGFibGVMYWJlbDogW3sKICAgICAgICBwcm9wOiAibmFtZSIsCiAgICAgICAgbGFiZWw6ICLlp5PlkI0iCiAgICAgIH0sIHsKICAgICAgICBwcm9wOiAiYWdlIiwKICAgICAgICBsYWJlbDogIuW5tOm+hCIKICAgICAgfSwgewogICAgICAgIHByb3A6ICJzZXhMYWJsZSIsCiAgICAgICAgbGFiZWw6ICLmgKfliKsiCiAgICAgIH0sIHsKICAgICAgICBwcm9wOiAiYmlydGgiLAogICAgICAgIGxhYmVsOiAi5Ye655Sf5pel5pyfIiwKICAgICAgICB3aWR0aDogMjAwCiAgICAgIH0sIHsKICAgICAgICBwcm9wOiAiYWRkciIsCiAgICAgICAgbGFiZWw6ICLlnLDlnYAiLAogICAgICAgIHdpZHRoOiAzMjAKICAgICAgfV0sCiAgICAgIGNvbmZpZzogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgdG90YWw6IDMwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25Gb3JtOiBDb21tb25Gb3JtLAogICAgQ29tbW9uVGFibGU6IENvbW1vblRhYmxlCiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRVc2VyOiBmdW5jdGlvbiBhZGRVc2VyKCkgewogICAgICB0aGlzLmlzU2hvdyA9IHRydWU7CiAgICAgIHRoaXMub3BlcmF0ZVR5cGUgPSAiYWRkIjsKICAgICAgdGhpcy5vcGVyYXRlRm9ybSA9IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBhZGRyOiAiIiwKICAgICAgICBhZ2U6ICIiLAogICAgICAgIGJpcnRoOiAiIiwKICAgICAgICBzZXg6ICIiCiAgICAgIH07CiAgICB9LAogICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm9wZXJhdGVUeXBlID09PSAiZWRpdCIpIHsKICAgICAgICB0aGlzLiRodHRwLnBvc3QoIi91c2VyL2VkaXQiLCB0aGlzLm9wZXJhdGVGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlZGl05omT5Y2w5Ye65p2l55qEIiwgcmVzKTsKICAgICAgICAgIF90aGlzLmlzU2hvdyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRodHRwLnBvc3QoIi91c2VyL2FkZCIsIHRoaXMub3BlcmF0ZUZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2coImFkZOaJk+WNsOWHuuadpeeahCIsIHJlcyk7CiAgICAgICAgICBfdGhpcy5pc1Nob3cgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0VXNlcjogZnVuY3Rpb24gZWRpdFVzZXIocm93KSB7CiAgICAgIHRoaXMub3BlcmF0ZVR5cGUgPSAiZWRpdCI7CiAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy5vcGVyYXRlRm9ybSA9IF9vYmplY3RTcHJlYWQoe30sIHJvdyk7CiAgICB9LAogICAgZGVsVXNlcjogZnVuY3Rpb24gZGVsVXNlcihyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xnu4Tku7bvvIzmmK/lkKbnu6fnu63vvJ8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu6K6kIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGlkID0gcm93LmlkOwoKICAgICAgICBfdGhpczIuJGh0dHAuZ2V0KCIvdXNlci9kZWwiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8iCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKICAgICAgdGhpcy5jb25maWcubG9hZGluZyA9IHRydWU7CiAgICAgIG5hbWUgPyB0aGlzLmNvbmZpZy5wYWdlID0gMSA6ICIiOwogICAgICBnZXRVc2VyKHsKICAgICAgICBwYWdlOiB0aGlzLmNvbmZpZy5wYWdlLAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciByZXMgPSBfcmVmLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coJ2dldHVzZXLmiJDlip/nmoTml7blgJnov5Tlm57nmoTmlbDmja4nLCByZXMpOwogICAgICAgIF90aGlzMy50YWJsZURhdGEgPSByZXMubGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V4TGFibGUgPSBpdGVtLnNleCA9PT0gMCA/ICLlpbMiIDogIueUtyI7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygi5omT5Y2wdGFibGVkYXRhIiwgX3RoaXMzLnRhYmxlRGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coIuaJk+WNsHRhYmxlbGFiZWwiLCBfdGhpczMudGFibGVMYWJlbCk7CiAgICAgICAgX3RoaXMzLmNvbmZpZy50b3RhbCA9IHJlcy5jb3VudDsKICAgICAgICBfdGhpczMuY29uZmlnLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACAA,cADA;AAEAC,MAFA,kBAEA;AACA;AACAC,wBADA;AAEAC,mBAFA;AAGAC,yBACA;AACAC,qBADA;AAEAC,mBAFA;AAGAC;AAHA,OADA,EAMA;AACAF,oBADA;AAEAC,mBAFA;AAGAC;AAHA,OANA,EAWA;AACAF,oBADA;AAEAC,mBAFA;AAGAC,sBAHA;AAIAC,eACA;AACAF,oBADA;AAEAG;AAFA,SADA,EAKA;AACAH,oBADA;AAEAG;AAFA,SALA;AAJA,OAXA,EA0BA;AACAJ,sBADA;AAEAC,qBAFA;AAGAC;AAHA,OA1BA,EA+BA;AACAF,qBADA;AAEAC,mBAFA;AAGAC;AAHA,OA/BA,CAHA;AAwCAG;AACAV,gBADA;AAEAW,gBAFA;AAGAC,eAHA;AAIAC,eAJA;AAKAC;AALA,OAxCA;AAgDAC,kBACA;AACAV,wBADA;AAEAC,iBAFA;AAGAC;AAHA,OADA,CAhDA;AAuDAS;AACAC;AADA,OAvDA;AA0DAC,mBA1DA;AA2DA;AACAC,mBACA;AACAC,oBADA;AAEAd;AAFA,OADA,EAKA;AACAc,mBADA;AAEAd;AAFA,OALA,EASA;AACAc,wBADA;AAEAd;AAFA,OATA,EAaA;AACAc,qBADA;AAEAd,qBAFA;AAGAe;AAHA,OAbA,EAkBA;AACAD,oBADA;AAEAd,mBAFA;AAGAe;AAHA,OAlBA,CA5DA;AAoFAC;AACAC,eADA;AAEAC;AAFA;AApFA;AAyFA,GA5FA;AA6FAC;AACAC,0BADA;AAEAC;AAFA,GA7FA;AAiGAC;AACAC,WADA,qBACA;AACA;AACA;AACA;AACA7B,gBADA;AAEAW,gBAFA;AAGAC,eAHA;AAIAE,iBAJA;AAKAD;AALA;AAOA,KAXA;AAYAiB,WAZA,qBAYA;AAAA;;AACA;AACA;AACAC;AACA;;AACA;AACA,SAJA;AAKA,OANA,MAMA;AACA;AACAA;AACA;;AACA;AACA,SAJA;AAKA;AACA,KA1BA;AA2BAC,YA3BA,oBA2BAC,GA3BA,EA2BA;AACA;AACA;AACA;AACA,KA/BA;AAgCAC,WAhCA,mBAgCAD,GAhCA,EAgCA;AAAA;;AACA;AACAE,+BADA;AAEAC,8BAFA;AAGA7B;AAHA,SAIA8B,IAJA,CAIA;AACA;;AACA,qBACAC,GADA,CACA,WADA,EACA;AACAC;AAAAC;AAAA;AADA,SADA,EAIAH,IAJA,CAIA;AACA;AACA9B,2BADA;AAEAkC;AAFA;;AAIA;AACA,SAVA;AAWA,OAjBA;AAkBA,KAnDA;AAoDAC,WApDA,qBAoDA;AAAA;;AAAA;AACA;AACA1C;AACA2C;AACApB,8BADA;AAEAvB;AAFA,SAGAqC,IAHA,CAGA;AAAA;AACAN;AACA;AACAa;AACA;AACA,SAHA;AAIAb;AACAA;AACA;AACA;AACA,OAbA;AAcA;AArEA,GAjGA;AAwKAc,SAxKA,qBAwKA;AACA;AACA;AA1KA","names":["name","data","operateType","isShow","operateFormLabel","model","label","type","opts","value","operateForm","addr","age","sex","birth","formLabel","searchForm","keywords","tableData","tableLabel","prop","width","config","page","total","components","CommonForm","CommonTable","methods","addUser","confirm","console","editUser","row","delUser","confirmButtonText","cancelButtonText","then","get","params","id","message","getList","getUser","item","created"],"sourceRoot":"src/views/user","sources":["Index.vue"],"sourcesContent":["<template>\n  <div class=\"manage\">\n    <el-dialog\n      :title=\"operateType === 'add' ? '新增用户' : '更新用户'\"\n      :visible.sync=\"isShow\"\n    >\n      <CommonForm\n        :formLabel=\"operateFormLabel\"\n        :form=\"operateForm\"\n        :inline=\"true\"\n        ref=\"form\"\n      >\n      </CommonForm>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"isShow = false\"> 取消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\">确认</el-button>\n      </div>\n    </el-dialog>\n    <div class=\"manage-header\">\n      <el-button type=\"primary\" @click=\"addUser\"> +新增 </el-button>\n\n      <CommonForm\n        :formLabel=\"formLabel\"\n        :form=\"searchForm\"\n        :inline=\"true\"\n        ref=\"form\"\n      >\n        <!-- <input type=\"text\" placeholder=\"请输入\" class=\"s_input\"> -->\n        <el-button type=\"primary\" @click=\"getList(searchForm.keyword)\"> 搜索 </el-button>\n      </CommonForm>\n    </div>\n    <CommonTable\n      :tableData=\"tableData\"\n      :tableLabel=\"tableLabel\"\n      :config=\"config\"\n      @changePage=\"getList()\"\n      @edit=\"editUser\"\n      @del=\"delUser\"\n    >\n    </CommonTable>\n  </div>\n</template>\n\n<script>\nimport CommonForm from \"../../components/CommonForm.vue\";\nimport CommonTable from \"../../components/CommonTable.vue\";\nimport { getUser } from \"../../api/data\";\nimport { time } from \"echarts\";\nexport default {\n  name: \"user\",\n  data() {\n    return {\n      operateType: \"add\",\n      isShow: false,\n      operateFormLabel: [\n        {\n          model: \"name\",\n          label: \"姓名\",\n          type: \"input\",\n        },\n        {\n          model: \"age\",\n          label: \"年龄\",\n          type: \"input\",\n        },\n        {\n          model: \"sex\",\n          label: \"性别\",\n          type: \"select\",\n          opts: [\n            {\n              label: \"男\",\n              value: 1,\n            },\n            {\n              label: \"女\",\n              value: 0,\n            },\n          ],\n        },\n        {\n          model: \"birth\",\n          label: \"出生日期\",\n          type: \"date\",\n        },\n        {\n          model: \"addr\",\n          label: \"地址\",\n          type: \"input\",\n        },\n      ],\n      operateForm: {\n        name: \"\",\n        addr: \"\",\n        age: \"\",\n        sex: \"\",\n        birth: \"\",\n        \n      },\n      formLabel: [\n        {\n          model: \"keyword\",\n          label: \"\",\n          type: \"input\",\n        },\n      ],\n      searchForm: {\n        keywords: \"\",\n      },\n      tableData: [],\n      // sexLabel:'',\n      tableLabel: [\n        {\n          prop: \"name\",\n          label: \"姓名\",\n        },\n        {\n          prop: \"age\",\n          label: \"年龄\",\n        },\n        {\n          prop: \"sexLable\",\n          label: \"性别\",\n        },\n        {\n          prop: \"birth\",\n          label: \"出生日期\",\n          width: 200,\n        },\n        {\n          prop: \"addr\",\n          label: \"地址\",\n          width: 320,\n        },\n      ],\n      config: {\n        page: 1,\n        total: 30,\n      },\n    };\n  },\n  components: {\n    CommonForm,\n    CommonTable,\n  },\n  methods: {\n    addUser() {\n      this.isShow = true;\n      this.operateType = \"add\";\n      this.operateForm = {\n        name: \"\",\n        addr: \"\",\n        age: \"\",\n        birth: \"\",\n        sex: \"\",\n      };\n    },\n    confirm() {\n      if (this.operateType === \"edit\") {\n        this.$http.post(\"/user/edit\", this.operateForm).then((res) => {\n          console.log(\"edit打印出来的\",res);\n          this.isShow = false;\n          this.getList();\n        });\n      } else {\n        this.$http.post(\"/user/add\", this.operateForm).then((res) => {\n          console.log(\"add打印出来的\",res);\n          this.isShow = false;\n          this.getList();\n        });\n      }\n    },\n    editUser(row) {\n      this.operateType = \"edit\";\n      this.isShow = true;\n      this.operateForm = {...row};\n    },\n    delUser(row) {\n      this.$confirm(\"此操作将永久删除该组件，是否继续？\", \"提示\", {\n        confirmButtonText: \"确认\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(() => {\n        const id = row.id;\n        this.$http\n          .get(\"/user/del\", {\n            params: { id },\n          })\n          .then(() => {\n            this.$message({\n              type: \"success\",\n              message: \"删除成功\",\n            });\n            this.getList();\n          });\n      });\n    },\n    getList(name = '') {\n      this.config.loading = true\n      name ? (this.config.page = 1) : \"\";\n      getUser({\n        page: this.config.page,\n        name,\n      }).then(({data:res}) => {\n        console.log('getuser成功的时候返回的数据',res)\n        this.tableData = res.list.map((item) => {\n          item.sexLable = item.sex === 0 ? \"女\" : \"男\";\n          return item;\n        });\n        console.log(\"打印tabledata\",this.tableData)\n        console.log(\"打印tablelabel\",this.tableLabel)\n        this.config.total = res.count;\n        this.config.loading = false;\n      });\n    },\n  },\n  created() {\n    this.getList();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.manage-header {\n  display: flex;\n  justify-content: space-between;\n  .el-button {\n    width: 70px;\n    height: 40px;\n  }\n}\n</style>"]}]}